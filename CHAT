<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Live Chat</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 20px; background:#f2f2f2; }
    #chatbox { max-width:700px; margin:auto; background:#fff; padding:20px; border-radius:8px; box-shadow:0 0 10px rgba(0,0,0,0.1); }
    #messages { height:300px; overflow-y:auto; border:1px solid #ddd; padding:10px; border-radius:6px; background:#fafafa; }
    .msg { margin-bottom:12px; padding-bottom:8px; border-bottom:1px solid #eee; }
    .name { font-weight:bold; color:#333; }
    .text { margin-top:4px; }
    form { display:flex; gap:8px; margin-top:10px; }
    input[type="text"] { flex:1; padding:8px; border:1px solid #ccc; border-radius:4px; }
    button { padding:8px 12px; background:#007bff; color:#fff; border:none; border-radius:4px; cursor:pointer; }
  </style>
</head>
<body>

<div id="chatbox">
  <h2>Live Chat</h2>
  <div id="messages"></div>

  <form id="chatForm">
    <input id="nameInput" type="text" placeholder="Name (optional)">
    <input id="textInput" type="text" placeholder="Write something..." required>
    <button type="submit">Send</button>
  </form>
</div>

<!-- Firebase libs -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>

<script>
  // ðŸ”¥ REPLACE THIS WITH YOUR REAL FIREBASE CONFIG
  const firebaseConfig = {
    apiKey: "REPLACE",
    authDomain: "REPLACE",
    databaseURL: "REPLACE",
    projectId: "REPLACE",
    storageBucket: "REPLACE",
    messagingSenderId: "REPLACE",
    appId: "REPLACE"
  };

  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();
  const messagesRef = db.ref("chat/messages");

  const messagesEl = document.getElementById("messages");
  const form = document.getElementById("chatForm");
  const nameInput = document.getElementById("nameInput");
  const textInput = document.getElementById("textInput");

  messagesRef.on("child_added", snapshot => {
    const msg = snapshot.val();
    const div = document.createElement("div");
    div.className = "msg";
    div.innerHTML = `
      <div class="name">${msg.name || "Anonymous"}</div>
      <div class="text">${msg.text}</div>
    `;
    messagesEl.appendChild(div);
    messagesEl.scrollTop = messagesEl.scrollHeight;
  });

  form.addEventListener("submit", e => {
    e.preventDefault();
    const name = nameInput.value.trim() || "Anonymous";
    const text = textInput.value.trim();
    if (!text) return;

    messagesRef.push({ name, text });
    textInput.value = "";
  });
</script>

</body>
</html>
